(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{660:function(s,a,t){s.exports=t.p+"assets/img/image-20210421180725565.9476c3b1.png"},810:function(s,a,t){"use strict";t.r(a);var e=t(31),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),e("p",[e("code",[s._v("rat-cli")]),s._v("和"),e("code",[s._v("bdp-cli")]),s._v("都是面向开发者的命令行工具脚手架；后期将有配套的图形化操作；")]),s._v(" "),e("h2",{attrs:{id:"关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关系"}},[s._v("#")]),s._v(" 关系")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("rat-cli")]),s._v("是最先开发的，当时已支持"),e("code",[s._v("github")]),s._v("相关仓库，后面考虑公司内部要兼容"),e("code",[s._v("gitlab")]),s._v("处理，考虑到要初始化gitlab配置等敏感信息，就单独抽离，部分功能阉割成"),e("code",[s._v("bdp-cli")]),s._v(";")]),s._v(" "),e("li",[s._v("理念：通过企业的内部项目去优化并推动集成新的功能到"),e("code",[s._v("bdp-cli")]),s._v("上，再把新功能集成合并到"),e("code",[s._v("rat-cli")]),s._v("上；两者功能相辅相成；")]),s._v(" "),e("li",[s._v("可以理解成："),e("code",[s._v("rat-cli")]),s._v("是全网版本，"),e("code",[s._v("bdp-cli")]),s._v("是内网版本； "),e("strong",[e("code",[s._v("rat-cli")]),s._v("兼容包含"),e("code",[s._v("bdp-cli")]),s._v("的所有功能；")])])]),s._v(" "),e("h2",{attrs:{id:"安装对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装对比"}},[s._v("#")]),s._v(" 安装对比")]),s._v(" "),e("h3",{attrs:{id:"rat-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rat-cli"}},[s._v("#")]),s._v(" "),e("code",[s._v("rat-cli")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g @samyzh/rat-cli\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#yarn global add @samyzh/rat-cli #或者 ")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"bdp-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bdp-cli"}},[s._v("#")]),s._v(" "),e("code",[s._v("bdp-cli")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g bdp-cli --registry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://172.21.64.25:7373\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nrm add bdp http://172.21.64.25:7373/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nrm use bdp")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo npm i -g bdp-cli")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("如在安装过程中报权限错的话，需要加上 --unsafe-perm, 如下命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g bdp-cli --unsafe-perm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"默认初始化配置对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认初始化配置对比"}},[s._v("#")]),s._v(" 默认初始化配置对比")]),s._v(" "),e("h3",{attrs:{id:"rat-cli-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rat-cli-2"}},[s._v("#")]),s._v(" "),e("code",[s._v("rat-cli")])]),s._v(" "),e("p",[s._v("默认支持github方式，当时可以配置支持gitlab方式；")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registrytpl")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bdp-tpl\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registryblk")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bdp-blk\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("metal")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### github默认配置；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("isPrivate")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("orgs\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseApi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://api.github.com\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseGit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://github.com\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### gitlab默认配置；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("isPrivate")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("token")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseApi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://gitlab.xxx.com/api/v4/groups/bdp-fe%2f\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseGit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://gitlab.xxx.com/bdp-fe/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h3",{attrs:{id:"bdp-cli-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bdp-cli-2"}},[s._v("#")]),s._v(" "),e("code",[s._v("bdp-cli")])]),s._v(" "),e("p",[s._v("默认只支持gitlab方式；")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registrytpl")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bdp-tpl\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registryblk")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bdp-blk\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("metal")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### gitlab默认配置；")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("isPrivate")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("token")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseApi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://gitlab.xxx.com/api/v4/groups/bdp-fe%2f\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseGit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://gitlab.xxx.com/bdp-fe/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"权限准备-gitlab内网"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#权限准备-gitlab内网"}},[s._v("#")]),s._v(" 权限准备(gitlab内网)")]),s._v(" "),e("ul",[e("li",[s._v("找管理员配置相应模板的权限；")]),s._v(" "),e("li",[s._v("第一次启动命令，"),e("code",[s._v("bdp init")]),s._v(";")]),s._v(" "),e("li",[s._v("访问令牌还得修改下，之前默认的可能已经过期；生产token后，拷贝替换"),e("code",[s._v(".bdprc")]),s._v("中的token; （不配置的话，会提示网络错误）")]),s._v(" "),e("li",[s._v("再运行初始化项目命令，按照提示操作；")])]),s._v(" "),e("p",[s._v("图示配置token权限相关设置：")]),s._v(" "),e("p",[e("img",{attrs:{src:t(660),alt:"image-20210421180725565"}})]),s._v(" "),e("h2",{attrs:{id:"功能对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能对比"}},[s._v("#")]),s._v(" 功能对比")]),s._v(" "),e("h3",{attrs:{id:"rat-cli-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rat-cli-3"}},[s._v("#")]),s._v(" "),e("code",[s._v("rat-cli")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("➜  samy rat -h\nUsage: rat "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nOptions:\n  -V, --version  output the version number\n  -h, --help     output usage information\n\n  how to use "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n  - rat init tpl/blk/deploy \n  - rat tpl xxx\n  - rat blk xxx\n  - rat config set/get/del "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("k"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  - rat deploy\n  - rat tpl/blk "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h3",{attrs:{id:"bdp-cli-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bdp-cli-3"}},[s._v("#")]),s._v(" "),e("code",[s._v("bdp-cli")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("➜  samy bdp -h\nUsage: bdp "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nOptions:\n  -V, --version  output the version number\n  -h, --help     output usage information\n\n  如何使用命令，如下:\n  - bdp init tpl/blk/deploy \n  - bdp tpl xxx\n  - bdp blk xxx\n  - bdp deploy\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])}),[],!1,null,null,null);a.default=n.exports}}]);