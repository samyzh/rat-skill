(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{676:function(s,a,t){s.exports=t.p+"assets/img/image-20210127210908039.b153ee80.png"},677:function(s,a,t){s.exports=t.p+"assets/img/image-20210127205900113.d847a2dd.png"},815:function(s,a,t){"use strict";t.r(a);var n=t(31),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"搭建环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建环境"}},[s._v("#")]),s._v(" 搭建环境")]),s._v(" "),n("blockquote",[n("h4",{attrs:{id:"安装相关软件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装相关软件"}},[s._v("#")]),s._v(" 安装相关软件")])]),s._v(" "),n("ul",[n("li",[s._v("开发环境："),n("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("nodejs")]),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("md编写工具："),n("a",{attrs:{href:"https://typora.io/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("Typora")]),s._v(" (opens new window)"),n("OutboundLink")],1),s._v("；")]),s._v(" "),n("li",[s._v("Git："),n("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git"),n("OutboundLink")],1),s._v("；")]),s._v(" "),n("li",[s._v("git提交工具："),n("a",{attrs:{href:"https://www.sourcetreeapp.com/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("SourceTree")]),s._v(" (opens new window)"),n("OutboundLink")],1),s._v("/"),n("a",{attrs:{href:"https://tortoisegit.org/download/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("Tortoisegit")]),s._v(" (opens new window)"),n("OutboundLink")],1),s._v("等或者直接用"),n("code",[s._v("git.sh")]),s._v("脚本也可提交【可选】；")])]),s._v(" "),n("h2",{attrs:{id:"配置源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置源"}},[s._v("#")]),s._v(" 配置源")]),s._v(" "),n("h3",{attrs:{id:"配置npm源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置npm源"}},[s._v("#")]),s._v(" 配置npm源")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g nrm --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\nnrm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nnrm use taobao\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者直接通过taobao源安装；")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"配置yarn源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置yarn源"}},[s._v("#")]),s._v(" 配置yarn源")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" yrm --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\nyrm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nyrm use taobao\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"安装脚手架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装脚手架"}},[s._v("#")]),s._v(" 安装脚手架")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nrm add bdp http://172.21.64.25:7373/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nrm use bdp")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g bdp-cli --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://172.21.64.25:7373/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("如在安装过程中报权限错的话，需要加上 --unsafe-perm, 如下命令：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g bdp-cli --unsafe-perm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"初始化项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目"}},[s._v("#")]),s._v(" 初始化项目")]),s._v(" "),n("blockquote",[n("p",[s._v("如是第一次用"),n("code",[s._v("bdp-cli")]),s._v(", 在gitlab上生产访问令牌，替换本地"),n("code",[s._v("~/.bdprc")]),s._v("文件中的token; "),n("RouterLink",{attrs:{to:"/pages/cli-bdp/"}},[s._v("可参考文档")])],1)]),s._v(" "),n("p",[s._v("要准备好四个设置内容：")]),s._v(" "),n("ul",[n("li",[s._v("项目名(en) 【hn-dx-deploy-doc】")]),s._v(" "),n("li",[s._v("项目描述 【湖南电信部署文档】")]),s._v(" "),n("li",[s._v("项目标题 【部署文档】")]),s._v(" "),n("li",[s._v("git项目地址 【github.com/tmp】")])]),s._v(" "),n("p",[n("strong",[s._v("通过脚手架初始化项目")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("➜  bdp-ztest bdp -V\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".3\n➜  bdp-ztest bdp tpl "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n✔ 获取repos中 \n? 请选择要安装的repo? doc-tpl-bdp\n⠋ 下载中 doc-tpl-bdp\nCloning into "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/Users/samy/.bdp/tpl/doc-tpl-bdp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n✔ 下载完成 doc-tpl-bdp\n➜  bdp-ztest bdp init\n? 请选择初始化的类型 initPro   初始化项目/Project\n? 请输入 Project 名 hn-dx-deploy-doc\n? 请选择模板文件哪个Project模板? doc-tpl-bdp\n? 项目名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" hn-dx-deploy-doc\n? 项目描述 湖南电信部署文档\n? 项目标题 部署文档\n? git项目地址 github.com/tmp\n✔ 👏生成完成 hn-dx-deploy-doc\n\n  项目生成成功 hn-dx-deploy-doc, 然后进入目录安装依赖:\n       $ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hn-dx-deploy-doc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h2",{attrs:{id:"编写文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写文档"}},[s._v("#")]),s._v(" 编写文档")]),s._v(" "),n("h3",{attrs:{id:"启动项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[s._v("#")]),s._v(" 启动项目")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hn-dx-deploy-doc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" start\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"开始写作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开始写作"}},[s._v("#")]),s._v(" 开始写作")]),s._v(" "),n("blockquote",[n("p",[s._v("创建文档项目后，用Typora打开进入"),n("code",[s._v("docs")]),s._v("目录下，在对应的目录下添加待编码前缀的文档或者文件；")])]),s._v(" "),n("p",[n("RouterLink",{attrs:{to:"/pages/online_md/"}},[s._v("参考文档")])],1),s._v(" "),n("h2",{attrs:{id:"部署到ngx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署到ngx"}},[s._v("#")]),s._v(" 部署到ngx")]),s._v(" "),n("h3",{attrs:{id:"配置ngx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置ngx"}},[s._v("#")]),s._v(" 配置ngx")]),s._v(" "),n("p",[s._v("设置ngx对应的静态路径")]),s._v(" "),n("div",{staticClass:"language-nginx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("npm"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("deploy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("doc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nginx"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("debian"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("client_max_body_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_connect_timeout")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_send_timeout")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_read_timeout")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("send_timeout")]),s._v("                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try_files")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"发布部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布部署"}},[s._v("#")]),s._v(" 发布部署")]),s._v(" "),n("h4",{attrs:{id:"scp部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#scp部署"}},[s._v("#")]),s._v(" scp部署")]),s._v(" "),n("blockquote",[n("p",[s._v("为了简化部署流程，直接通过"),n("code",[s._v("scp")]),s._v("拷贝部署；")])]),s._v(" "),n("ul",[n("li",[n("p",[n("s",[s._v("方式一： "),n("code",[s._v("sh deploy-ngx.sh")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r dist/ npm@ip://home/npm/deploy/doc/dist\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf dist\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" ./dist.zip root@10.45.xxx:/usr/lib/wdp-server/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("方式二：参考"),n("RouterLink",{attrs:{to:"/pages/cli-deploy-fe/"}},[s._v("用脚手架快速部署前端项目")]),s._v("【推荐】不会暴露不必要的服务器信息；")],1),s._v(" "),n("p",[s._v("部署配置json设置好后，运行命令部署：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bdp deploy"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置好，zdeploy.js后再运行一下命令；")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run deploy\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在选择要部署的环境；按照命令行提示部署；")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])]),s._v(" "),n("h4",{attrs:{id:"jks自动部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jks自动部署"}},[s._v("#")]),s._v(" jks自动部署")]),s._v(" "),n("p",[n("strong",[s._v("执行shell")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cd /var/lib/jenkins/workspace/bdp-doc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$workspace")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf dist\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f doc-doc.zip\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("zip")]),s._v(" -r bdp-doc.zip dist/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("img",{attrs:{src:t(676),alt:"image-20210127210908039"}})]),s._v(" "),n("p",[n("code",[s._v("getbdpdoc.sh")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v("  -niv  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.45")]),s._v(".47.8x\nuser  xx  xx\nbinary\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v("  /var/lib/jenkins/workspace/bdp-doc\nlcd  /home/bdpcloud/doc\nprompt\nget  bdp-doc.zip\nclose\nbye\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -la\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf bdp-doc\n/usr/bin/unzip -d bdp-doc bdp-doc.zip\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f bdp-doc.zip\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"解压成功"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mv dist bdp-doc")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h2",{attrs:{id:"效果及教程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#效果及教程"}},[s._v("#")]),s._v(" 效果及教程")]),s._v(" "),n("p",[n("img",{attrs:{src:t(677),alt:"image-20210127205900113"}})]),s._v(" "),n("bilibili",{attrs:{bvid:"BV1Yr4y1P7JS",page:1,highQuality:!0,danmaku:!0}}),s._v(" "),n("h2",{attrs:{id:"相关文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关文档"}},[s._v("#")]),s._v(" 相关文档")]),s._v(" "),n("p",[s._v("https://my.samyz.cn/rat-skill/pages/cli-use/")]),s._v(" "),n("p",[s._v("https://my.samyz.cn/rat-skill/pages/online_md/")])],1)}),[],!1,null,null,null);a.default=e.exports}}]);